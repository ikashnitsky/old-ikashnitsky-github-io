<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sex ratios in all countries from Human Mortality Database • Ilya Kashnitsky</title>
    <meta name="description" content="Sex ratios reflect the two basic regularities of human demographics: 1) there are always more boys being born; 2) males experience higher mortality throughout their life-course. The sex ratio at birth does not vary dramatically1 and is more or less constant at the level of 105-106 boys per 100 girls. Hence, differences in the sex ratio profiles of countries mainly reflect gender gap in mortality. In this post I will compare sex ratios age profiles in all countries included in Human Mortality Database.


  
    
      There are cases of big deviations from this natural constant. The most well known one is the skewed sex ratio in China, where decades of One Child Policy together with strong traditional son preference resulted in selective abortions. Read more: Frejka et. al (2010); Wang (2011); Basten and Verropoulou (2013).&nbsp;&#8617;
    
  

">
    <meta name="keywords" content="">
    
    	<!-- Twitter Cards -->
	<meta name="twitter:title" content="Sex ratios in all countries from Human Mortality Database">
	<meta name="twitter:description" content="Sex ratios reflect the two basic regularities of human demographics: 1) there are always more boys being born; 2) males experience higher mortality throughout their life-course. The sex ratio at birth does not vary dramatically1 and is more or less constant at the level of 105-106 boys per 100 girls. Hence, differences in the sex ratio profiles of countries mainly reflect gender gap in mortality. In this post I will compare sex ratios age profiles in all countries included in Human Mortality Database.


  
    
      There are cases of big deviations from this natural constant. The most well known one is the skewed sex ratio in China, where decades of One Child Policy together with strong traditional son preference resulted in selective abortions. Read more: Frejka et. al (2010); Wang (2011); Basten and Verropoulou (2013).&nbsp;&#8617;
    
  

">
	<meta name="twitter:site" content="@ikashnitsky">
	<meta name="twitter:creator" content="@ikashnitsky">
	
	<meta name="twitter:card" content="summary">
	<meta name="twitter:image" content="http://localhost:4000/images/logo-120x120.png">
	
	<!-- Open Graph -->
	<meta property="og:locale" content="en">
	<meta property="og:type" content="article">
	<meta property="og:title" content="Sex ratios in all countries from Human Mortality Database">
	<meta property="og:description" content="Sex ratios reflect the two basic regularities of human demographics: 1) there are always more boys being born; 2) males experience higher mortality throughout their life-course. The sex ratio at birth does not vary dramatically1 and is more or less constant at the level of 105-106 boys per 100 girls. Hence, differences in the sex ratio profiles of countries mainly reflect gender gap in mortality. In this post I will compare sex ratios age profiles in all countries included in Human Mortality Database.


  
    
      There are cases of big deviations from this natural constant. The most well known one is the skewed sex ratio in China, where decades of One Child Policy together with strong traditional son preference resulted in selective abortions. Read more: Frejka et. al (2010); Wang (2011); Basten and Verropoulou (2013).&nbsp;&#8617;
    
  

">
	<meta property="og:url" content="http://localhost:4000/2017/hmd-all-sex-ratio/">
	<meta property="og:site_name" content="Ilya Kashnitsky">

    <link rel="canonical" href="http://localhost:4000/2017/hmd-all-sex-ratio/">

    <link href="http://localhost:4000/atom.xml" type="application/atom+xml" rel="alternate" title="Ilya Kashnitsky Atom Feed">
    <link href="http://localhost:4000/sitemap.xml" type="application/xml" rel="sitemap" title="Sitemap">

    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cleartype" content="on">

    <link rel="stylesheet" href="http://localhost:4000/css/main.css">
    <!-- HTML5 Shiv and Media Query Support for IE -->
    <!--[if lt IE 9]>
      <script src="http://localhost:4000/js/vendor/html5shiv.min.js"></script>
      <script src="http://localhost:4000/js/vendor/respond.min.js"></script>
    <![endif]-->

  </head>

  <body id="js-body">
    <!--[if lt IE 9]><div class="upgrade notice-warning"><strong>Your browser is quite old!</strong> Why not <a href="http://whatbrowser.org/">upgrade to a newer one</a> to better enjoy this site?</div><![endif]-->

    <header id="masthead">
  <div class="inner-wrap">
    <a href="http://localhost:4000/" class="site-title">Ilya Kashnitsky</a>
    <nav role="navigation" class="menu top-menu">
        <ul class="menu-item">
	<li class="home"><a href="/">Ilya Kashnitsky</a></li>
	
    
    <li><a href="http://localhost:4000/" >BLOG</a></li>
  
    
    <li><a href="http://localhost:4000/archive" >ARCHIVE</a></li>
  
    
    <li><a href="http://localhost:4000/me" >ME</a></li>
  
    
    <li><a href="http://localhost:4000/pubs" >PUB</a></li>
  
    
    <li><a href="http://localhost:4000/conf" >CONF</a></li>
  
    
    <li><a href="http://localhost:4000/dd" >DD</a></li>
  
    
    <li><a href="http://localhost:4000/tea" >TEA</a></li>
  
    
    <li><a href="http://localhost:4000/contacts" >CONTACTS</a></li>
  
</ul>
    </nav>
  </div><!-- /.inner-wrap -->
</header><!-- /.masthead -->
    <nav role="navigation" id="js-menu" class="sliding-menu-content">
  <h5>Ilya Kashnitsky <span>Table of Contents</span></h5>
  <ul class="menu-item">
    <li>
      <a href="http://localhost:4000/">
        <img src="http://localhost:4000/images/teaser-blog.png" alt="teaser" class="teaser">
        <div class="title">BLOG</div>
        <p class="excerpt">DemographeR's notes</p>
      </a>
    </li><li>
      <a href="http://localhost:4000/archive">
        <img src="http://localhost:4000/images/teaser-archive.png" alt="teaser" class="teaser">
        <div class="title">ARCHIVE</div>
        <p class="excerpt">Archive of all blog posts</p>
      </a>
    </li><li>
      <a href="http://localhost:4000/me">
        <img src="http://localhost:4000/images/teaser-me.png" alt="teaser" class="teaser">
        <div class="title">ME</div>
        <p class="excerpt">About me</p>
      </a>
    </li><li>
      <a href="http://localhost:4000/pubs">
        <img src="http://localhost:4000/images/teaser-pubs.png" alt="teaser" class="teaser">
        <div class="title">PUB</div>
        <p class="excerpt">List of publications</p>
      </a>
    </li><li>
      <a href="http://localhost:4000/conf">
        <img src="http://localhost:4000/images/teaser-conf.png" alt="teaser" class="teaser">
        <div class="title">CONF</div>
        <p class="excerpt">Talks at conferences and seminars</p>
      </a>
    </li><li>
      <a href="http://localhost:4000/dd">
        <img src="http://localhost:4000/images/teaser-dd.png" alt="teaser" class="teaser">
        <div class="title">DD</div>
        <p class="excerpt">Demographic Digest</p>
      </a>
    </li><li>
      <a href="http://localhost:4000/tea">
        <img src="http://localhost:4000/images/teaser-tea.png" alt="teaser" class="teaser">
        <div class="title">TEA</div>
        <p class="excerpt">Lecture notes & teaching materials</p>
      </a>
    </li><li>
      <a href="http://localhost:4000/contacts">
        <img src="http://localhost:4000/images/teaser-contacts.png" alt="teaser" class="teaser">
        <div class="title">CONTACTS</div>
        <p class="excerpt">My contacts and profiles</p>
      </a>
    </li>
  </ul>
</nav>
<button type="button" id="js-menu-trigger" class="sliding-menu-button lines-button x2" role="button" aria-label="Toggle Navigation">
  <span class="nav-lines"></span>
</button>

<div id="js-menu-screen" class="menu-screen"></div>


    <div id="page-wrapper">
      <div id="main" role="main">
	<article class="wrap" itemscope itemtype="http://schema.org/Article">
		
		
		<div class="page-title">
			<h1>Sex ratios in all countries from Human Mortality Database</h1>
		</div>
		<div class="inner-wrap">
			<div id="content" class="page-content" itemprop="articleBody">
				<p>Sex ratios reflect the two basic regularities of human demographics: 1) there are always more boys being born; 2) males experience higher mortality throughout their life-course. The sex ratio at birth does not vary dramatically<sup id="fnref:1"><a href="#fn:1" class="footnote">1</a></sup> and is more or less constant at the level of 105-106 boys per 100 girls. Hence, differences in the sex ratio profiles of countries mainly reflect gender gap in mortality. In this post I will compare sex ratios age profiles in all countries included in <a href="http://www.mortality.org">Human Mortality Database</a>.</p>

<p><code class="highlighter-rouge">R</code> gives amazing opportunities to grab data fast and easy. Thanks to <a href="https://sites.google.com/site/timriffepersonal/">Tim Riffe’s</a> <code class="highlighter-rouge">HMDPFDplus</code> package, one can now download HMD data with just a couple of lines of <code class="highlighter-rouge">R</code> code.</p>

<p>There is a handy function in <code class="highlighter-rouge">HMDPFDplus</code> package – <code class="highlighter-rouge">getHMDcountries()</code>. It lists the codes for all countries in HMD. So it becomes really easy to loop through the database and download data for all countries.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># load required packages
library(tidyverse) # version 1.0.0
library(HMDHFDplus) # version 1.1.8

country &lt;- getHMDcountries()

exposures &lt;- list()
for (i in 1: length(country)) {
        cnt &lt;- country[i]
        exposures[[cnt]] &lt;- readHMDweb(cnt, "Exposures_1x1",
                                       ik_user_hmd, ik_pass_hmd)
        
        # let's print the progress
        paste(i,'out of',length(country)) 
}
</code></pre>
</div>

<p><em>Please note, the arguments <code class="highlighter-rouge">ik_user_hmd</code> and <code class="highlighter-rouge">ik_pass_hmd</code> are my login credidantials at the website of <a href="http://www.mortality.org">Human Mortality Database</a>, which are stored locally at my computer. In order to access the data, one needs to create an account at http://www.mortality.org/ and provide his own credidantials to the <code class="highlighter-rouge">readHMDweb()</code> function.</em></p>

<p>Next, I select 2012 for comparison – it is quite recent, and for most of the HMD countries there are data for 2012. The loop goes through each of the countries’ dataframe in <code class="highlighter-rouge">exposures</code> list, selects data for 2012 and calculates sex ratio at each age. I also remove data for several populations (like East and West Germany separately).</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sr_age &lt;- list()

for (i in 1:length(exposures)) {
        di &lt;- exposures[[i]]
        sr_agei &lt;- di %&gt;% select(Year,Age,Female,Male) %&gt;% 
                filter(Year %in% 2012) %&gt;%
                select(-Year) %&gt;%
                transmute(country = names(exposures)[i],
                          age = Age, sr_age = Male / Female * 100)
        sr_age[[i]] &lt;- sr_agei
}
sr_age &lt;- bind_rows(sr_age)

# remove optional populations
sr_age &lt;- sr_age %&gt;% filter(!country %in% c("FRACNP","DEUTE","DEUTW","GBRCENW","GBR_NP"))
</code></pre>
</div>

<p>After age 90, sex ratios become quite jerky due to the relatively small numbers of survivors. I decided to aggregate data after the age 90.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># summarize all ages older than 90 (too jerky)
sr_age_90 &lt;- sr_age %&gt;% filter(age %in% 90:110) %&gt;% 
        group_by(country) %&gt;% summarise(sr_age = mean(sr_age, na.rm = T)) %&gt;%
        ungroup() %&gt;% transmute(country, age=90, sr_age)

df_plot &lt;- bind_rows(sr_age %&gt;% filter(!age %in% 90:110), sr_age_90)
</code></pre>
</div>

<p>Finally, I plot the resulting sex ratios.</p>

<div class="highlighter-rouge"><pre class="highlight"><code># get nice font
library(extrafont)
myfont &lt;- "Roboto Condensed"

# finaly - plot
gg &lt;- ggplot(df_plot, aes(age, sr_age, color = country, group = country))+
        geom_hline(yintercept = 100, color = 'grey50', size = 1)+
        geom_line(size = 1)+
        scale_y_continuous(limits = c(0, 120), expand = c(0, 0), breaks = seq(0, 120, 20))+
        scale_x_continuous(limits = c(0, 90), expand = c(0, 0), breaks = seq(0, 80, 20))+
        xlab('Age')+
        ylab('Sex ratio, males per 100 females')+
        facet_wrap(~country, ncol=6)+
        theme_minimal(base_family = myfont, base_size = 15)+
        theme(legend.position='none',
              panel.border = element_rect(size = .5, fill = NA))
</code></pre>
</div>

<p><a href="/images/170205/hmd-sex-ratios.png"><img src="/images/170205/hmd-sex-ratios.png" alt="gg" /></a></p>

<p>There is quite a variety in the sex ratio profiles. If the initial prevalence of males equalizes in Japan, Sweden, or Norway at around 60, in Russia, Belarus, and Ukraine this happens at around 30 due to very high male mortality. In many countries there are pronounced bumps in the sex ratio at ages 20-30, that are likely to be caused by international migration. For example, Scotland, Northern Ireland, Portugal, and New Zealand are experiencing substantial outflow of young men.</p>

<p>What happened in Taiwan?</p>

<p><em>This post is based on my earlier <a href="https://twitter.com/ikashnitsky/status/785973218775478273">twit</a> and <a href="https://gist.github.com/ikashnitsky/a578eaef6b122aa2aa2e3469fd2dcbe7">gist</a>.</em></p>

<div class="footnotes">
  <ol>
    <li id="fn:1">
      <p>There are cases of big deviations from this natural constant. The most well known one is the skewed sex ratio in China, where decades of One Child Policy together with strong traditional son preference resulted in selective abortions. Read more: Frejka et. al (<a href="http://dx.doi.org/10.1111/j.1728-4457.2010.00347.x">2010</a>); Wang (<a href="http://dx.doi.org/10.1111/j.1728-4457.2011.00383.x">2011</a>); Basten and Verropoulou (<a href="http://dx.doi.org/10.1080/00324728.2013.826372">2013</a>).&nbsp;<a href="#fnref:1" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

				<hr />
				<footer class="page-footer">
					

<div class="author-image">
	<img src="http://localhost:4000/images/bio-photo.jpg" alt="Ilya Kashnitsky">
</div><!-- ./author-image -->
<div class="author-content">
	<h3 class="author-name" >Written by <span itemprop="author">Ilya Kashnitsky</span></h3>
	<p class="author-bio">Ilya Kashnitsky is a PhD candidate in demography at University of Groningen and Netherlands Interdisciplinary Demographic Institute.</p>
</div><!-- ./author-content -->
					<div class="inline-btn">
	<a class="btn-social twitter" href="https://twitter.com/intent/tweet?text=Sex%20ratios%20in%20all%20countries%20from%20Human%20Mortality%20Database&amp;url=http://localhost:4000/2017/hmd-all-sex-ratio/&amp;via=ikashnitsky" target="_blank"><i class="fa fa-twitter" aria-hidden="true"></i> Share on Twitter</a>
	<a class="btn-social facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/2017/hmd-all-sex-ratio/" target="_blank"><i class="fa fa-facebook" aria-hidden="true"></i> Share on Facebook</a>
	<a class="btn-social google-plus"  href="https://plus.google.com/share?url=http://localhost:4000/2017/hmd-all-sex-ratio/" target="_blank"><i class="fa fa-google-plus" aria-hidden="true"></i> Share on Google+</a>
</div><!-- /.share-this -->

					<div class="page-meta">
	<p>Updated <time datetime="2017-02-05T00:00:00Z" itemprop="datePublished">February 05, 2017</time></p>
</div><!-- /.page-meta -->
				</footer><!-- /.footer -->
				<aside>
					<hr />
<div id="disqus_thread"></div>
<script type="text/javascript">
	/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	var disqus_shortname = 'ikashnitsky';

	/* * * DON'T EDIT BELOW THIS LINE * * */
	(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

				</aside>
			</div><!-- /.content -->
		</div><!-- /.inner-wrap -->
		
	</article><!-- ./wrap -->
</div><!-- /#main -->

      <footer role="contentinfo" id="site-footer">
	<nav role="navigation" class="menu bottom-menu">
		<ul class="menu-item">
		
      
			<li><a href="http://localhost:4000/" >BLOG</a></li>
		
      
			<li><a href="http://localhost:4000/me" >ME</a></li>
		
      
			<li><a href="http://localhost:4000/contacts" >CONTACTS</a></li>
		
      
			<li><a href="https://twitter.com/ikashnitsky" target="_blank">TWITTER</a></li>
		
      
			<li><a href="https://www.linkedin.com/in/ikashnitsky" target="_blank">LINKEDIN</a></li>
		
      
			<li><a href="https://ikashnitsky.github.io/dem-digest" target="_blank">DEMOGRAPHIC DIGEST</a></li>
		
      
			<li><a href="https://www.r-bloggers.com" target="_blank">R-BLOGGERS</a></li>
		
      
			<li><a href="https://www.r-users.com" target="_blank">R JOBS</a></li>
		
		</ul>
	</nav><!-- /.bottom-menu -->
	<p class="copyright">&#169; 2017 <a href="http://localhost:4000">Ilya Kashnitsky</a> (ilya.kashnitsky@gmail.com). Powered by <a href="http://jekyllrb.com">Jekyll</a> + <a href="https://mmistakes.github.io/skinny-bones-jekyll/">Skinny Bones</a>.</p>
</footer>
    </div>

    <script src="http://localhost:4000/js/vendor/jquery-1.9.1.min.js"></script>
    <script src="http://localhost:4000/js/main.js"></script>

  </body>

</html>
